<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe Column</title>
    <link rel="icon" type="image/x-icon" href="image/logobrown.ico">

    <!-- SWIPER -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

    <!-- Font Awesome CDN Link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Custom CSS File Link  -->
    <link rel="stylesheet" href="css/style.css">

</head>

<body>

    <!-- HEADER -->
    <header class="header">
        <div id="menu-btn" class="fas fa-bars"></div>
        <a href="#"><img src="image/logotran2.png" class="resize-logo" alt="Blog Logo"></a>

        <nav class="navbar">
            <a href="#home">home</a>
            <a href="#about">about</a>
            <a href="#menu">favorite cafes</a>
            <a href="#review">reviews</a>
        </nav>

        <a href="#book" class="btn">blog a cafe</a>
    </header>

    <!-- HOME -->
    <section class="home" id="home">
        <div class="row">
            <div class="content">
                <h3> Where Every Sip Tells a Story</h3>
                <a href="#review" class="btn">Recent Reviews</a>
            </div>

            <div class="image">
                <img src="image/logofreetran.png" class="main-home-image" alt="">
            </div>
        </div>

        <div class="image-slider">
            <img src="image/home-img-1.png" alt="">
            <img src="image/home-img-2.png" alt="">
            <img src="image/home-img-3.png" alt="">
        </div>
    </section>

    <!-- ABOUT -->
    <section class="about" id="about">
        <h1 class="heading">about us <span>Why Should You Trust Our Blog?
        </span></h1>

        <div class="row">
            <div class="image">
                <img src="image/aboutph.webp" alt="">
            </div>

            <div class="content">
                <h3 class="title">What is Cafe Column?</h3>
                <p>We are a blog started by two college students who share a deep love for cafes, coffee, and the beautiful moments they create. Our journey began over countless cups of coffee shared during long, sleepless nights in college, where we found that the best memories were made in the cozy corners of our favorite cafes. At Cafe Column, we dive into the full experience of every cafe we visit, judging them on more than just their menu—because a good cafe is about the vibe, the ambiance, and the welcoming feel just as much as it’s about the perfect cup of coffee. Join us as we sip, savor, and celebrate the wonderful world of cafes, sharing our adventures and inspiring you to discover your own favorite spots.
                </p>
                <a href="#" class="btn">read more</a>
                <div class="icons-container">
                    <div class="icons">
                        <img src="image/about-icon-1.png" alt="">
                        <h3>Quality</h3>
                    </div>
                    <div class="icons">
                        <img src="image/ambiance.png" alt="">
                        <h3>Ambiance</h3>
                    </div>
                    <div class="icons">
                        <img src="image/service.png" alt="">
                        <h3>Service</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MENU -->
    <section class="menu" id="menu">
        <h1 class="heading">Coffee <span>Favorite Coffees</span></h1>

        <div class="box-container">
            <a href="#" class="box">
                <img src="image/menu-1.png" alt="">
                <div class="content">
                    <h3>our special coffee</h3>
                    <p>lol.</p>
                    <span>$8.99</span>
                </div>
            </a>

            <a href="#" class="box">
                <img src="image/menu-2.png" alt="">
                <div class="content">
                    <h3>our special coffee</h3>
                    <p>lol.</p>
                    <span>$8.99</span>
                </div>
            </a>

            <a href="#" class="box">
                <img src="image/menu-3.png" alt="">
                <div class="content">
                    <h3>our special coffee</h3>
                    <p>lol.</p>
                    <span>$8.99</span>
                </div>
            </a>

            <a href="#" class="box">
                <img src="image/menu-4.png" alt="">
                <div class="content">
                    <h3>our special coffee</h3>
                    <p>lol.</p>
                    <span>$8.99</span>
                </div>
            </a>

            <a href="#" class="box">
                <img src="image/menu-5.png" alt="">
                <div class="content">
                    <h3>our special coffee</h3>
                    <p>lol.</p>
                    <span>$8.99</span>
                </div>
            </a>

            <a href="#" class="box">
                <img src="image/menu-6.png" alt="">
                <div class="content">
                    <h3>our special coffee</h3>
                    <p>lol!</p>
                    <span>$8.99</span>
                </div>
            </a>
        </div>
    </section>

    <!-- REVIEW -->
    <section class="review" id="review">
        <h1 class="heading">reviews <span>what people say</span></h1>

        <div class="swiper review-slider">
            <div class="swiper-wrapper">
                <!-- Reviews will be appended here dynamically -->
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </section>

    <!-- BOOK -->
    <section class="book" id="book">
        <section class="contact">
            <h1 class="heading">Blogging <span>review a cafe</span></h1>
            <form id="reviewForm">
                <input type="text" id="reviewerName" placeholder="Name" class="box" required>
                <input type="text" id="cafeName" placeholder="Cafe Name" class="box" required>
                <input type="file" id="reviewImage" name="image" accept="image/*" class="box" required>
                <textarea id="reviewContent" placeholder="Review" class="box" cols="30" rows="10" required></textarea>
                <select id="reviewRating" class="box" required>
                    <option value="5">5 Stars</option>
                    <option value="4">4 Stars</option>
                    <option value="3">3 Stars</option>
                    <option value="2">2 Stars</option>
                    <option value="1">1 Star</option>
                </select>
                <input type="submit" value="Submit Review" class="btn">
            </form>
        </section>
    </section>

    <!-- FOOTER -->
    <section class="footer">
        <div class="box-container">
            <!-- Existing footer content -->
        </div>
        <div class="credit">
            <button id="clearStorageBtn" class="btn">Clear All Reviews</button>
            created by Hailey Hsiung and Md Uddin | all rights reserved
        </div>
    </section>

    <!-- SWIPER -->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>

    <!-- Custom JS File Link  -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Menu and Navbar Toggle
            let menu = document.querySelector('#menu-btn');
            let navbar = document.querySelector('.navbar');

            menu.onclick = () => {
                menu.classList.toggle('fa-times');
                navbar.classList.toggle('active');
            };

            window.onscroll = () => {
                menu.classList.remove('fa-times');
                navbar.classList.remove('active');
            };

            // Image Slider Functionality
            document.querySelectorAll('.image-slider img').forEach(images => {
                images.onclick = () => {
                    var src = images.getAttribute('src');
                    document.querySelector('.main-home-image').src = src;
                };
            });

            // Swiper Configuration
            var swiper = new Swiper(".review-slider", {
                spaceBetween: 20,
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
                loop: true,
                grabCursor: true,
                autoplay: {
                    delay: 7500,
                    disableOnInteraction: false,
                },
                breakpoints: {
                    0: {
                        slidesPerView: 1
                    },
                    768: {
                        slidesPerView: 2
                    }
                },
            });

            // Load existing reviews from localStorage
            const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
            reviews.forEach(review => appendReview(review));

            // Form Submission
            document.getElementById('reviewForm').addEventListener('submit', function(event) {
                event.preventDefault();

                const reviewerName = document.getElementById('reviewerName').value;
                const cafeName = document.getElementById('cafeName').value;
                const reviewContent = document.getElementById('reviewContent').value;
                const reviewImage = document.getElementById('reviewImage').files[0];
                const reviewRating = document.getElementById('reviewRating').value;

                if (reviewerName && cafeName && reviewContent && reviewImage && reviewRating) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const review = {
                            reviewerName,
                            cafeName,
                            reviewContent,
                            reviewImage: event.target.result,
                            reviewRating
                        };

                        // Save review to localStorage
                        reviews.push(review);
                        localStorage.setItem('reviews', JSON.stringify(reviews));

                        // Append review to page
                        appendReview(review);
                        document.getElementById('reviewForm').reset();
                    };
                    reader.readAsDataURL(reviewImage);
                } else {
                    alert('Please fill out all fields and upload an image.');
                }
            });

            // Append Review Function
            function appendReview(review) {
                const starsHTML = Array.from({ length: review.reviewRating }, () => '<i class="fas fa-star"></i>').join('');

                const reviewHTML = `
                    <div class="swiper-slide box">
                        <i class="fas fa-quote-left"></i>
                        <i class="fas fa-quote-right"></i>
                        <img src="${review.reviewImage}" alt="Review Image">
                        <div class="stars">
                            ${starsHTML}
                        </div>
                        <p>${review.reviewContent}</p>
                        <h3>${review.cafeName}</h3>
                        <span>${review.reviewerName}</span>
                    </div>
                `;

                const swiperWrapper = document.querySelector('.swiper-wrapper');
                swiperWrapper.insertAdjacentHTML('beforeend', reviewHTML);
                swiper.update();
            }

            // Clear Local Storage
            document.getElementById('clearStorageBtn').addEventListener('click', function() {
                if (confirm('Are you sure you want to clear all reviews?')) {
                    localStorage.clear();
                    location.reload(); // Reload the page to reflect the changes
                }
            });
        });
    </script>
</body>

</html>
